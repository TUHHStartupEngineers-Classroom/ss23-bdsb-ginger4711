---
title: "Tidyverse"
author: "Christian SÃ¼hl"
---

# Intro reading
| This is the first chapter of my lab journal focusing on the *Tidyverse*.
| At first i started to read the chapter *Intro to the Tidyverse* and used the `INSTALL_PKGS.R` file to install all the required packages.
| After reading through the basics like *Pipes*, *Tibbles* and *Import*.

```{r}
#| include: false
library("tidyverse")
```
```{r}
tibble(
    x = 1:50,
    y = runif(50), 
    z = x + y^2,
    outcome = rnorm(50)
  )
```

```{r}
library(readr)
dataset_tbl <- read_csv("../../src/test-data.csv",show_col_types = FALSE)
readr::problems(dataset_tbl)
```

# Tidy Exercise
1. Table 1 is tidy
2. Table 2 is not tidy, since the name of the variable is stored in every row of the table and not just as a column name with the values in that column.
3. Table 3 is untidy, since here the variable names are addressing individual rows whereas they should do that with columns. So the table would need to be rotated.
4. Table 4 is untidy, since multiple variables are stored per column.

# Diamonds
```{r}
library(tidyverse)
diamonds2 <- readRDS("../../src/diamonds2.rds")
diamonds2
diamonds2_long <- diamonds2 %>% 
  pivot_longer(cols      = c("2008", "2009"), 
               names_to  = 'year', 
               values_to = 'price') %>% 
  head(n = 5)
diamonds2_long
lm(price ~ ., data = diamonds2_long)
diamonds3 <- readRDS("../../src/diamonds3.rds")
diamonds3 %>% pivot_wider(names_from = "dimension",values_from = "measurement") %>% head(n=5)
diamonds4 <- readRDS("../../src/diamonds4.rds")
diamonds4 %>% separate(col = dim, into = c("x","y","z"),sep = "/", convert = T)
diamonds5 <- readRDS("../../src/diamonds5.rds")
diamonds5 %>% unite(clarity,clarity_prefix,clarity_suffix,sep='')
```

# Transform
```{r}
library(ggplot2) # To load the diamonds dataset
library(dplyr)
diamonds %>% 
    filter(cut == 'Premium', carat >= 0.3) %>% 
    head(5)
diamonds %>% 
  select(x:z, everything()) %>%
  rename(colorcode = color) %>%
  head(n = 5)
diamonds %>%
  group_by(color) %>%
  summarize(max_price  = max(price),
            mean_price = mean(price),
            min_price  = min(price))
library(lubridate)
ymd(19690716)
```

# Business case


::: callout-note
You can delete everything in here and start fresh.
:::

This is a `.qmd` file. It is plain text with special features. Any time you write just like this, it will be compiled to normal text in the website. If you put a \# in front of your text, it will create a top level-header.

To learn more about Quarto websites visit <https://quarto.org/docs/websites>.

# Text Formatting

*italics* and **bold**

superscript^2^ / subscript~2~

~~strikethrough~~

`verbatim code`

> Blockquote

# Headings

## Header 2
### Header 3
#### Header 4
##### Header 5
###### Header 6

# Links & Images

<https://quarto.org>

[Quarto](https://quarto.org)

![Caption](../../assets/img/elephant.png)

[![Caption](../../assets/img/elephant.png)](https://quarto.org)

[![Caption](../../assets/img/elephant.png)](https://quarto.org "An elephant")


# Lists

* unordered list
    + sub-item 1
    + sub-item 2
        - sub-sub-item 1
        
*   item 2

    Continued (indent 4 spaces)
    
    
1. ordered list
2. item 2
    i) sub-item 1
         A.  sub-sub-item 1
         
(@)  A list whose numbering

continues after

(@)  an interruption

# Tables

| Right | Left | Default | Center |
|------:|:-----|---------|:------:|
|   12  |  12  |    12   |    12  |
|  123  |  123 |   123   |   123  |
|    1  |    1 |     1   |     1  |

# Source Code

Use ``` to delimit blocks of source code:

```
code
```

Add a language to syntax highlight code blocks:

```{r}
1 + 1
```

```{r}
cars
```

```{r}
plot(cars)
```
